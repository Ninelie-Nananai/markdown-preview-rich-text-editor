import Head from "next/head";
import {
  Group,
  Container,
  Textarea,
  Grid,
  Center,
  Blockquote,
  Space,
  Title,
  Text,
} from "@mantine/core";
import { useState } from "react";
import { marked } from "marked";
import { GoMarkdown } from "react-icons/go";
import RichTextEditor from "../components/RichText";
import TimeLine from "../components/TimeLine";
import Report from "../components/Report";

export default function Home() {
  // const [colorScheme, setColorScheme] = useState("light");
  const [markdown, setMarkdown] = useState("Leave a comment");

  return (
    <>
      <Container size="xl">
        <Head>
          <title>Create Next App</title>
          <meta name="description" content="Generated by create next app" />
          <link rel="icon" href="/favicon.ico" />
        </Head>

        {/* Main section*/}
        <Group position="center">
          {/* Header */}
          <h1>
            <Title transform="uppercase">
              Markdown Previewer with Next.js and Mantine
            </Title>
            <Text color="red">++Rich Text Editor</Text>
          </h1>
        </Group>
        <Space h="xl" />
        {/* Body */}
        <Grid justify="space-around" align="flex-start" columns={2}>
          <Grid.Col span={1}>
            <div>
              <Text
                weight={600}
                transform="uppercase"
                align="center"
                component="span"
                variant="gradient"
                gradient={{ from: "indigo", to: "cyan", deg: 45 }}
                style={{ fontFamily: "Greycliff CF, sans-serif" }}
              >
                Write Markdown
              </Text>
              <Textarea
                placeholder={markdown}
                required
                autosize
                onChange={(e) => setMarkdown(e.target.value)}
              />
              <Group spacing={4}>
                <GoMarkdown size={20} />
                <Text size="sm" weight={400}>
                  Styling with Markdown is supported
                </Text>
              </Group>
            </div>
          </Grid.Col>
          <Grid.Col span={1}>
            <div>
              <Text
                weight={600}
                transform="uppercase"
                align="center"
                component="span"
                variant="gradient"
                gradient={{ from: "indigo", to: "cyan", deg: 45 }}
                style={{ fontFamily: "Greycliff CF, sans-serif" }}
              >
                Markdown Preview
              </Text>
              <div className="post-body">
                <div
                  dangerouslySetInnerHTML={{ __html: marked(markdown) }}
                ></div>
              </div>
            </div>
          </Grid.Col>
        </Grid>

        <Space h="xl" />

        <Text
          weight={600}
          transform="uppercase"
          align="center"
          component="span"
          variant="gradient"
          gradient={{ from: "indigo", to: "cyan", deg: 45 }}
          style={{ fontFamily: "Greycliff CF, sans-serif" }}
        >
          Rich Text Editor
        </Text>
        <RichTextEditor style={{ minHeight: "350px" }} />
        <Space h="sm" />
        <Center inline>
          <Report />
        </Center>

        {/* Time line */}
        <Space h="xl" />
        <TimeLine />

        {/* Footer section */}
        <Space h="xl" />
        <Center>
          <Blockquote cite="â€“ Nineria">
            Don't cross that bridge till you come to it.
          </Blockquote>
        </Center>
      </Container>
    </>
  );
}
